<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content=rgba(0,0,0,0)><meta name=generator content="Hexo 6.3.0"><link rel=preconnect href=//fonts.loli.net crossorigin><link rel=preconnect href=null//null crossorigin><link rel=preconnect href=https://cdn.jsdelivr.net crossorigin><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=mask-icon href=/images/logo.svg color=rgba(0,0,0,0)><link rel=manifest href=/images/manifest.json><link rel=stylesheet href=/css/main.css><link rel=stylesheet href="//fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/orange/pace-theme-big-counter.css><script src=https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin=anonymous></script><script class=next-config data-name=main type=application/json>{"hostname":"blog.ohayo.live","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"buttons","active":"disqus","storage":true,"lazyload":false,"nav":{"disqus":{"text":"Load Disqus","order":-1}},"activeClass":"disqus"},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta name=description content="æ­¤ç¯‡è®°å½•ä¸€ä¸‹å‰æ®µæ—¶é—´æŠ˜è…¾è·¯ç”±å™¨çš„ç»å†ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆï¼ŒçœŸæ˜¯å¤ªçˆ½äº†ï¼Œè·¯ç”±å™¨è¿™ä¸œè¥¿ï¼ŒçœŸä¸Šå¤´ã€‚ ğŸ“  é€‰æ‹©è·¯ç”±å™¨ æˆ‘é€‰çš„æ˜¯çº¢ç±³ax6ï¼Œè¿™æ¬¾è·¯ç”±å™¨ï¼Œå¯ä»¥è¯´æ˜¯ç†è´¢äº§å“äº†ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œä»·æ ¼ä¸€ç›´æ¶¨ï¼ŒäºŒæ‰‹åŸä»·å–ã€‚å°±ç¦»è°±ã€‚ æˆ‘ä¸»è¦æ˜¯çœ‹é‡å®ƒä»¥ä¸‹å‡ ç‚¹  èŠ¯ç‰‡å¥½ï¼Œé«˜é€šçš„èŠ¯ç‰‡ï¼Œæ•£çƒ­åˆšåˆšæ»´~ æ”¯æŒwifi6 ç©¿å¢™ä¹Ÿä¸é”™  åŠ ä¸Šçœ‹å¥½ç¢°è§å°ç±³å•†åŸæœ‰è´§ï¼Œæˆ‘ç›´æ¥æ‰‹èµ·åˆ€è½ã€‚ é•¿ä¸ªæ ·å­ã€‚   åˆ·openwrt openwrtä¸€ä¸ªå¼€æºçš„è·¯ç”±å™¨"><meta property=og:type content=blog><meta property=og:title content=æŠ˜è…¾çº¢ç±³ax6><meta property=og:url content=https://blog.ohayo.live/log/redmiAx6/index.html><meta property=og:site_name content="ohayo&#39;s blog"><meta property=og:description content="æ­¤ç¯‡è®°å½•ä¸€ä¸‹å‰æ®µæ—¶é—´æŠ˜è…¾è·¯ç”±å™¨çš„ç»å†ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆï¼ŒçœŸæ˜¯å¤ªçˆ½äº†ï¼Œè·¯ç”±å™¨è¿™ä¸œè¥¿ï¼ŒçœŸä¸Šå¤´ã€‚ ğŸ“  é€‰æ‹©è·¯ç”±å™¨ æˆ‘é€‰çš„æ˜¯çº¢ç±³ax6ï¼Œè¿™æ¬¾è·¯ç”±å™¨ï¼Œå¯ä»¥è¯´æ˜¯ç†è´¢äº§å“äº†ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œä»·æ ¼ä¸€ç›´æ¶¨ï¼ŒäºŒæ‰‹åŸä»·å–ã€‚å°±ç¦»è°±ã€‚ æˆ‘ä¸»è¦æ˜¯çœ‹é‡å®ƒä»¥ä¸‹å‡ ç‚¹  èŠ¯ç‰‡å¥½ï¼Œé«˜é€šçš„èŠ¯ç‰‡ï¼Œæ•£çƒ­åˆšåˆšæ»´~ æ”¯æŒwifi6 ç©¿å¢™ä¹Ÿä¸é”™  åŠ ä¸Šçœ‹å¥½ç¢°è§å°ç±³å•†åŸæœ‰è´§ï¼Œæˆ‘ç›´æ¥æ‰‹èµ·åˆ€è½ã€‚ é•¿ä¸ªæ ·å­ã€‚   åˆ·openwrt openwrtä¸€ä¸ªå¼€æºçš„è·¯ç”±å™¨"><meta property=og:locale content=zh_CN><meta property=og:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220505005059497.png><meta property=og:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430210845243.png><meta property=og:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430212942511.png><meta property=og:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430213828289.png><meta property=og:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430222656166.png><meta property=og:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430222926530.png><meta property=og:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430223040679.png><meta property=og:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430223440228.png><meta property=article:published_time content=2022-04-30T12:47:11.000Z><meta property=article:modified_time content=2022-12-17T16:46:05.642Z><meta property=article:author content=ohayo><meta property=article:tag content=log><meta name=twitter:card content=summary><meta name=twitter:image content=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220505005059497.png><link rel=canonical href=https://blog.ohayo.live/log/redmiAx6/ ><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blog.ohayo.live/log/redmiAx6/","path":"log/redmiAx6/","title":"æŠ˜è…¾çº¢ç±³ax6"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>æŠ˜è…¾çº¢ç±³ax6 | ohayo's blog</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label=åˆ‡æ¢å¯¼èˆªæ  role=button><span class=toggle-line></span> <span class=toggle-line></span> <span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><p class=site-title>ohayo's blog</p><i class=logo-line></i></a></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-journal"><a href=/categories/journal/index.html rel=section><i class="fa fa-book-journal-whills fa-fw"></i>Journal</a></li><li class="menu-item menu-item-test"><a href=https://test.ohayo.live/ rel=noopener target=_blank><i class="fa fa-book fa-fw"></i>Test</a></li><li class="menu-item menu-item-friend"><a href=/friends/index.html rel=section><i class="fa fa-link fa-fw"></i>Friend</a></li><li class="menu-item menu-item-about"><a href=/about/index.html rel=section><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-search"><a role=button class=popup-trigger><i class="fa fa-search fa-fw"></i>æœç´¢</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=æœç´¢... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span> <span class=toggle-line></span> <span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>æ–‡ç« ç›®å½•</li><li class=sidebar-nav-overview>ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#%E9%80%89%E6%8B%A9%E8%B7%AF%E7%94%B1%E5%99%A8><span class=nav-number>1.</span> <span class=nav-text>é€‰æ‹©è·¯ç”±å™¨</span></a></li><li class="nav-item nav-level-1"><a class=nav-link href=#%E5%88%B7openwrt><span class=nav-number>2.</span> <span class=nav-text>åˆ·openwrt</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%A7%A3%E9%94%81ssh><span class=nav-number>2.1.</span> <span class=nav-text>è§£é”SSH</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%B7%E5%85%A5openwrt><span class=nav-number>2.2.</span> <span class=nav-text>åˆ·å…¥openwrt</span></a></li></ol></li><li class="nav-item nav-level-1"><a class=nav-link href=#%E6%8E%A5%E5%85%A5%E6%A0%A1%E5%9B%AD%E7%BD%91><span class=nav-number>3.</span> <span class=nav-text>æ¥å…¥æ ¡å›­ç½‘</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=ohayo src=/images/avatar.png><p class=site-author-name itemprop=name>ohayo</p><div class=site-description itemprop=description></div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/ ><span class=site-state-item-count>17</span> <span class=site-state-item-name>æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/ ><span class=site-state-item-count>11</span> <span class=site-state-item-name>åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/ ><span class=site-state-item-count>10</span> <span class=site-state-item-name>æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class=links-of-author-item><a href=https://github.com/zhu-jiyuan title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;zhu-jiyuan" rel=noopener target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item><a href=mailto:ohayo1213@outlook.com title="E-Mail â†’ mailto:ohayo1213@outlook.com" rel=noopener target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class=links-of-author-item><a href=/atom.xml title="RSS â†’ &#x2F;atom.xml"><i class="fa-solid fa-square-rss fa-fw"></i>RSS</a></span></div></div></div><div class="back-to-top animated" role=button aria-label=è¿”å›é¡¶éƒ¨><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div class=sidebar-dimmer></div></header><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang=zh-CN><link itemprop=mainEntityOfPage href=https://blog.ohayo.live/log/redmiAx6/ ><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=/images/avatar.png><meta itemprop=name content=ohayo></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ohayo's blog"><meta itemprop=description content=""></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="æŠ˜è…¾çº¢ç±³ax6 | ohayo's blog"><meta itemprop=description content=""></span><header class=post-header><h1 class=post-title itemprop="name headline">æŠ˜è…¾çº¢ç±³ax6</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i> </span><span class=post-meta-item-text>å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-04-30 20:47:11" itemprop="dateCreated datePublished" datetime=2022-04-30T20:47:11+08:00>2022-04-30</time> </span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i> </span><span class=post-meta-item-text>æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-12-18 00:46:05" itemprop=dateModified datetime=2022-12-18T00:46:05+08:00>2022-12-18</time> </span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder"></i> </span><span class=post-meta-item-text>åˆ†ç±»äº</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/log/ itemprop=url rel=index><span itemprop=name>log</span></a> </span></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-comment"></i> </span><span class=post-meta-item-text>Disqusï¼š</span> <a title=disqus href=/log/redmiAx6/#disqus_thread itemprop=discussionUrl><span class="post-comments-count disqus-comment-count" data-disqus-identifier=log/redmiAx6/ itemprop=commentCount></span></a></span></div></div></header><div class=post-body itemprop=articleBody><p>æ­¤ç¯‡è®°å½•ä¸€ä¸‹å‰æ®µæ—¶é—´æŠ˜è…¾è·¯ç”±å™¨çš„ç»å†ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆï¼ŒçœŸæ˜¯å¤ªçˆ½äº†ï¼Œè·¯ç”±å™¨è¿™ä¸œè¥¿ï¼ŒçœŸä¸Šå¤´ã€‚</p><p>ğŸ“</p><h1 id=é€‰æ‹©è·¯ç”±å™¨><a class=markdownIt-Anchor href=#é€‰æ‹©è·¯ç”±å™¨></a> é€‰æ‹©è·¯ç”±å™¨</h1><p>æˆ‘é€‰çš„æ˜¯çº¢ç±³ax6ï¼Œè¿™æ¬¾è·¯ç”±å™¨ï¼Œå¯ä»¥è¯´æ˜¯ç†è´¢äº§å“äº†ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œä»·æ ¼ä¸€ç›´æ¶¨ï¼ŒäºŒæ‰‹åŸä»·å–ã€‚å°±ç¦»è°±ã€‚</p><p>æˆ‘ä¸»è¦æ˜¯çœ‹é‡å®ƒä»¥ä¸‹å‡ ç‚¹</p><ul><li>èŠ¯ç‰‡å¥½ï¼Œé«˜é€šçš„èŠ¯ç‰‡ï¼Œæ•£çƒ­åˆšåˆšæ»´~</li><li>æ”¯æŒwifi6</li><li>ç©¿å¢™ä¹Ÿä¸é”™</li></ul><p>åŠ ä¸Šçœ‹å¥½ç¢°è§å°ç±³å•†åŸæœ‰è´§ï¼Œæˆ‘ç›´æ¥æ‰‹èµ·åˆ€è½ã€‚</p><p>é•¿ä¸ªæ ·å­ã€‚</p><p><img data-src=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220505005059497.png alt=image-20220505005059497></p><h1 id=åˆ·openwrt><a class=markdownIt-Anchor href=#åˆ·openwrt></a> åˆ·openwrt</h1><p>openwrtä¸€ä¸ªå¼€æºçš„è·¯ç”±å™¨ç³»ç»Ÿï¼Œå¯ç©æ€§å¼ºï¼Œæ·±å—â€œå¤§å®¶â€å–œçˆ±ï¼Œæˆ‘ä¹Ÿä¸ä¾‹å¤–ï¼Œè¯¶~ï¼Œå¹´è½»å°±æ˜¯æŠ˜è…¾ã€‚</p><p>æˆ‘ç”¨çš„openwrtæ˜¯ç›´æ¥åœ¨æ©å±±ä¸‹è½½ä¸€ä¸ªç½‘å‹çš„ã€‚ä¸å¾—ä¸è¯´ï¼Œè‹±é›„æ‰€è§ç•¥åŒã€‚è¿™ä¸ªç½‘å‹å’Œæˆ‘ä¸€æ ·ï¼Œåªæœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯èƒ½ç§‘å­¦ä¸Šç½‘å°±è¡Œå•¦ã€‚</p><p><img data-src=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430210845243.png alt=image-20220430210845243></p><p>æ’ä»¶è¿™å—å¤§å®¶å¯ä»¥è‡ªå·±è£…å•¦ã€‚</p><p>ç±³å®¶çš„å›ºä»¶å®åœ¨æ˜¯è‹¦ä¸å ªè¨€ï¼Œçº¢ç±³ax6è·‘åƒMç½‘å’Œç©ä¸€æ ·ï¼Œæ ¹æœ¬æ²¡æœ‰å‹åŠ›ã€‚æˆ‘é€‰æ‹©openwrtæ›´é«˜çš„è‡ªç”±åº¦ã€‚</p><h2 id=è§£é”ssh><a class=markdownIt-Anchor href=#è§£é”ssh></a> è§£é”SSH</h2><p>ax6æœ€éš¾åˆ·æœºçš„åŸå› å°±æ˜¯SSHå¤ªéš¾è§£ã€‚</p><p>æˆ‘æ˜¯å‚è€ƒçš„bç«™è¿™ä½ç½‘å‹ç»™çš„æ•™ç¨‹ï¼Œè§£é”çš„ã€‚<a target=_blank rel=noopener href=https://www.bilibili.com/video/BV1q94y1f7fj>è§†é¢‘é“¾æ¥</a></p><p>æˆ‘ä¸æ˜¯ç‰¹åˆ«å–œæ¬¢è¿™ä¸ªè§†é¢‘çš„é£æ ¼ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç®€å•æ¦‚æ‹¬ä¸€ä¸‹ä»–è¯´çš„è¿™äº›ä¸œè¥¿ã€‚</p><ol><li><p>å°†AX6çš„å›ºä»¶é™çº§ä¸º1.0.18ç‰ˆæœ¬</p></li><li><p>çº¢ç±³ax6è§£é”éœ€è¦ä¸€ä¸ªopenwrtè·¯ç”±ï¼ˆèƒ½ä¸Šç½‘çš„ï¼‰ã€‚</p></li><li><p>ç”¨è™šæ‹Ÿæœºæ­å»ºä¸€ä¸ªopenwrtç³»ç»Ÿçš„è™šæ‹Ÿè·¯ç”±ï¼Œå°±æ˜¯å¼€ä¸€ä¸ªè™šæ‹Ÿæœºã€‚é…ç½®ç½‘ç»œç¯å¢ƒè™šæ‹Ÿæœºç½‘ç»œç¯å¢ƒ</p></li><li><p>ä¸Šä¼ wireless.shæ–‡ä»¶åˆ°è™šæ‹Ÿæœºï¼Œæ‰§è¡Œ sh /root/wireless.sh</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash><span class="token comment">#wireless.shå¦‚ä¸‹</span>
<span class="token comment">#!/bin/ash</span>
<span class="token comment"># SPDX-License-Identifier: GPL-3.0-only</span>
<span class="token comment">#</span>
<span class="token comment"># Copyright (C) 2020 yyjdelete</span>
<span class="token comment"># Copyright (C) 2021 Robert Marko &lt;robimarko@gmail.com></span>
<span class="token comment"># Copyright (C) 2021 Tianling Shen &lt;cnsztl@immortalwrt.org></span>
<span class="token comment">#</span>
<span class="token comment"># Original threads:</span>
<span class="token comment"># Redmi AX6 AX3000: https://www.right.com.cn/forum/thread-4060726-1-1.html</span>
<span class="token comment"># Xiaomi AX6000/AX9000: https://forum.openwrt.org/t/openwrt-support-for-xiaomi-ax9000/98908/34</span>

<span class="token assign-left variable">info_font</span><span class="token operator">=</span><span class="token string">"<span class="token entity" title=\033>\033</span>[36m[Info]<span class="token entity" title=\033>\033</span>[0m"</span>
<span class="token assign-left variable">success_font</span><span class="token operator">=</span><span class="token string">"<span class="token entity" title=\033>\033</span>[32m[Success]<span class="token entity" title=\033>\033</span>[0m"</span>
<span class="token assign-left variable">warning_font</span><span class="token operator">=</span><span class="token string">"<span class="token entity" title=\033>\033</span>[33m[Warning]<span class="token entity" title=\033>\033</span>[0m"</span>

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;warning_font&#125;</span> Please make sure your router has wireless support!"</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;warning_font&#125;</span> Please make sure your router is restored to factory settings (not configured)!"</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;warning_font&#125;</span> Please make sure you've backed up the network and wireless settings!"</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;warning_font&#125;</span> Please make sure you've connected the router via *wired ethernet*!"</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;warning_font&#125;</span> Running this script will change your *network* settings!"</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">"Use Ctrl+C to exit or press enter key to continue..."</span>

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;info_font&#125;</span> Adding xqsystem controller..."</span>
<span class="token function">cat</span> <span class="token operator">></span> <span class="token string">"/usr/lib/lua/luci/controller/admin/xqsystem.lua"</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF
module("luci.controller.admin.xqsystem", package.seeall)

function index()
    local page   = node("api")
    page.target  = firstchild()
    page.title   = ("")
    page.order   = 100
    page.index = true
    page   = node("api","xqsystem")
    page.target  = firstchild()
    page.title   = ("")
    page.order   = 100
    page.index = true
    entry(&#123;"api", "xqsystem", "token"&#125;, call("getToken"), (""), 103, 0x08)
end

local LuciHttp = require("luci.http")

function getToken()
    local result = &#123;&#125;
    result["code"] = 0
    result["token"] = "; nvram set ssh_en=1; nvram set uart_en=1; nvram set boot_wait=on; nvram commit; uci set wireless.@wifi-iface[0].key=\<span class="token variable"><span class="token variable">`</span>mkxqimage -I<span class="token punctuation">\</span><span class="token variable">`</span></span>; uci commit; sed -i 's/channel=.*/channel=<span class="token entity" title=\&quot;>\"</span>debug<span class="token entity" title=\&quot;>\"</span>/g' /etc/init.d/dropbear; /etc/init.d/dropbear start;"
    LuciHttp.write_json(result)
end
EOF</span>

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;info_font&#125;</span> Changing network settings..."</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-x</span>
<span class="token comment"># /etc/config/dhcp</span>
uci <span class="token builtin class-name">set</span> <span class="token assign-left variable">dhcp.lan.ra_management</span><span class="token operator">=</span><span class="token string">'1'</span>
uci del dhcp.lan.start
uci del dhcp.lan.limit
uci del dhcp.lan.leasetime
uci <span class="token builtin class-name">set</span> <span class="token assign-left variable">dhcp.lan.ignore</span><span class="token operator">=</span><span class="token string">'1'</span>
<span class="token comment"># /etc/config/network</span>
uci <span class="token builtin class-name">set</span> <span class="token assign-left variable">network.lan.ipaddr</span><span class="token operator">=</span><span class="token string">'169.254.31.1'</span>
uci <span class="token parameter variable">-q</span> commit
<span class="token builtin class-name">set</span> +x

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;success_font&#125;</span> All settings are applied.<span class="token entity" title=\n>\n</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;info_font&#125;</span> Please now disconnect from this router, and connect to your Xiaomi/Redmi router."</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;info_font&#125;</span> For Xiaomi AX3000/AX6000/AX9000:"</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"       Open your browser, access the following URL:"</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"         http://192.168.31.1/cgi-bin/luci/;stok=&lt;STOK>/api/xqsystem/extendwifi_connect_inited_router?ssid=MEDIATEK-ARM-IS-GREAT&amp;password=ARE-YOU-OK&amp;admin_username=root&amp;admin_password=admin&amp;admin_nonce=xxx"</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">""</span>


<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token variable">$&#123;warning_font&#125;</span> Restarting network..."</span>
wifi reload <span class="token operator">></span><span class="token string">"/dev/null"</span> <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span>
/etc/init.d/network restart <span class="token operator">></span><span class="token string">"/dev/null"</span> <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span>
<span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ‰“å¼€windowsç§»åŠ¨çƒ­ç‚¹ï¼Œè¿™æ—¶å€™ç”µè„‘å°±ä¼šå¤šå‡ºæ¥ä¸€ä¸ªç½‘å¡ï¼ˆè¿™ä¸ªçƒ­ç‚¹çš„ï¼‰</p></li><li><p>æŠŠåˆšåˆšåˆ·å¥½çš„openwrtæ¡¥æ¥åˆ°windowsçƒ­ç‚¹ä¸Šã€‚ps:çƒ­ç‚¹å¿…é¡»è”ç½‘</p></li><li><p>ç™»å½•AX6ï¼Œå¤åˆ¶å½“å‰AX6åå°é“¾æ¥ä¸­ â€œstock=â€ åé¢çš„å­—ç¬¦ä¸²ï¼›</p></li><li><p>æ›¿æ¢é“¾æ¥ä¸­ç›¸åº”çš„æ•°æ®åï¼Œå¤åˆ¶åˆ°æµè§ˆå™¨ç‚¹å‡»å›è½¦ï¼Œè§£é”SSHï¼›<br><a target=_blank rel=noopener href="http://192.168.31.1/cgi-bin/luci/;stok=">http://192.168.31.1/cgi-bin/luci/;stok=</a><stock>/api/xqsystem/extendwifi_connect_inited_router?ssid=op&amp;password=12345678&amp;admin_username=root&amp;admin_password=password&amp;admin_nonce=xxx</stock></p></li><li><p>æç¤ºè§£é”æˆåŠŸä¹‹åï¼Œå†æ¬¡ç™»å½•ax6åå°ï¼Œ5Gé¢‘æ®µè·¯ç”±å¯†ç ï¼Œå°±æ˜¯SSHå¯†ç äº†</p></li></ol><p>åˆ°è¿™é‡ŒSSHå°±è§£é”äº†ã€‚</p><h2 id=åˆ·å…¥openwrt><a class=markdownIt-Anchor href=#åˆ·å…¥openwrt></a> åˆ·å…¥openwrt</h2><p>çº¢ç±³ax6æœ‰ä¸¤ä¸ªç³»ç»Ÿåˆ†åŒºï¼Œä½ åœ¨0åŒºï¼Œå°±æŠŠopenwrtåˆ·åˆ°0åŒºï¼Œåä¹‹åˆ·åˆ°1åŒºã€‚</p><p>å°±æ˜¯è¯´ï¼Œä½ åœ¨0åˆ†åŒºåˆ·ï¼Œå›ºä»¶ä¼šä¸Šä¼ åˆ°1åˆ†åŒºã€‚ä½ åœ¨1åˆ†åŒºåˆ·ï¼Œå›ºä»¶ä¼šä¸Šä¼ åˆ°0åˆ†åŒºã€‚æ‰€ä»¥åˆ·ä¹‹å‰è¦åˆ‡æ¢åˆ†åŒºå…ˆã€‚</p><p>æˆ‘è¿™é‡Œæ²¡æ‰©å®¹ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡åˆ·çš„é‚£ä¸ªè·¯ç”±å™¨å˜ç –äº†ï¼Œæˆ‘åœ¨ç½‘ä¸Šæ²¡æ‰¾åˆ°å¾ˆå®Œå–„çš„æ‰©å®¹æ–¹æ¡ˆã€‚ä¸æ‰©å®¹åªèƒ½åˆ·30mä»¥ä¸‹çš„å“ˆï¼Œè¶…è¿‡ä¼šå˜ç –ï¼Œç”¨å°ç±³å®˜æ–¹çš„åˆ·æœºè½¯ä»¶å¯æ±‚å›æ¥ã€‚ä½†æ˜¯æ‰©å®¹åˆ·æœºå¤±è´¥ï¼Œä¸èƒ½ç”¨å°ç±³å®˜ç½‘çš„åˆ·æœºæ±‚äº†ã€‚ã€‚ã€‚</p><p>è¿™æ ·å°±ä¸ä¼šå‡ºç°å˜ç –çš„æƒ…å†µäº†ã€‚</p><p>ä¸‹é¢ä»¥1åˆ†åŒºä¸¾ä¾‹</p><ol><li><p>æ£€æµ‹å½“å‰åˆ†åŒº</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash>nvram get flag_last_success<span aria-hidden=true class=line-numbers-rows><span></span></span></code></pre></li><li><p>åˆ‡æ¢åˆ†åŒº</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash>nvram <span class="token builtin class-name">set</span> <span class="token assign-left variable">flag_last_success</span><span class="token operator">=</span><span class="token number">0</span>
nvram <span class="token builtin class-name">set</span> <span class="token assign-left variable">flag_boot_rootfs</span><span class="token operator">=</span><span class="token number">0</span>
nvram commit
<span class="token function">reboot</span><span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æŠŠopenwrtçš„å›ºä»¶ä¸Šä¼ åˆ°/tmpä¸‹é¢ï¼Œç¬¬ä¸€æ¬¡ä¸Šä¼ .ubiåç¼€çš„æ–‡ä»¶çš„å“ˆ<img data-src=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430212942511.png alt=image-20220430212942511></p></li><li><p>åˆ·å…¥å›ºä»¶</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash>ubiformat /dev/mtd13 <span class="token parameter variable">-y</span> <span class="token parameter variable">-f</span> /tmp/ä½ ä¸Šä¼ çš„å›ºä»¶æ–‡ä»¶å<span aria-hidden=true class=line-numbers-rows><span></span></span></code></pre></li><li><p>åˆ‡æ¢åˆ†åŒº</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash>nvram <span class="token builtin class-name">set</span> <span class="token assign-left variable">flag_last_success</span><span class="token operator">=</span><span class="token number">1</span>
nvram <span class="token builtin class-name">set</span> <span class="token assign-left variable">flag_boot_rootfs</span><span class="token operator">=</span><span class="token number">1</span>
nvram commit
<span class="token function">reboot</span><span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>ç»“æŸã€‚</p><p>å‰©ä¸‹çš„å°±æ˜¯åˆ‡æ¢ä¸åŒç³»ç»Ÿçš„ä»£ç äº†</p><pre class="line-numbers language-bash" data-language=bash><code class=language-bash>OPåˆ‡æ¢åˆ°å°ç±³ç³»ç»Ÿ
fw_setenv  flag_last_success <span class="token number">0</span>
fw_setenv flag_boot_rootfs <span class="token number">0</span>
<span class="token function">reboot</span>

å°ç±³ç³»ç»Ÿåˆ‡æ¢åˆ°OP
nvram <span class="token builtin class-name">set</span> <span class="token assign-left variable">flag_last_success</span><span class="token operator">=</span><span class="token number">1</span>
nvram <span class="token builtin class-name">set</span> <span class="token assign-left variable">flag_boot_rootfs</span><span class="token operator">=</span><span class="token number">1</span>
nvram commit
<span class="token function">reboot</span><span aria-hidden=true class=line-numbers-rows><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img data-src=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430213828289.png alt=image-20220430213828289></p><p>æˆ‘æƒ³è§£é”å®Œsshä¹‹åå°±å·²ç»å®ç°å®Œå…¨è‡ªç”±å•¦ã€‚è¿˜æœ‰ä»€ä¹ˆæ˜¯æ¯”ä¸€ä¸ªlinuxæ›´è‡ªç”±çš„å‘¢~</p><h1 id=æ¥å…¥æ ¡å›­ç½‘><a class=markdownIt-Anchor href=#æ¥å…¥æ ¡å›­ç½‘></a> æ¥å…¥æ ¡å›­ç½‘</h1><p>æ²³å—å¸ˆèŒƒå¤§å­¦çš„æ ¡å›­ç½‘ï¼Œç‹—çš„ä¸€ï¼Œä¸€ä¸ªè´¦å·ä¸€ä¸ªè®¾å¤‡ã€‚è¿™èƒ½è¡Œå—ï¼Ÿï¼Ÿï¼Ÿå’±å°±æ˜¯è¯´ï¼Œä¸€ç™¾ä¸ªä¸åŒæ„ã€‚</p><p>ax6æœ‰ä¸¤ä¸ªé¢‘æ®µï¼Œ5Gå’Œ2.4Gï¼Œå­¦æ ¡çš„ä¹Ÿæ˜¯åˆ†è¿™ä¿©ä¸ªé¢‘æ®µã€‚</p><p>è¿™é‡Œè¦ç§‘æ™®ä¸€ä¸‹è¿™ä¸ª5Gå’Œ2.4Gé¢‘æ®µå“ˆã€‚è¿™é‡Œæ˜¯é¢‘ç‡ï¼Œä¸æ˜¯æˆ‘ä»¬æ‰‹æœºä¸Šè¯´çš„é‚£ä¸ª5Gæ—¶ä»£å“ˆã€‚</p><ul><li><p>5Gé¢‘æ®µåœ¨ä¿¡å·å¼ºè·ç¦»æ—¶ï¼ŒæŠ—å¹²æ‰°èƒ½åŠ›è¿œå¤§äº2.4Gï¼Œå…¶ä¸‹è½½é€Ÿåº¦å’Œä¸Šä¼ é€Ÿåº¦æ˜æ˜¾å“ˆã€‚</p></li><li><p>2.4Gé¢‘æ®µä¿¡å·èŒƒå›´æ¯”è¾ƒå¹¿å“ˆï¼Œç©¿å¢™æ•ˆæœæ›´å¥½ã€‚</p></li></ul><p>å…¶å®ä»ç‰©ç†ä¹Ÿå¯å¾—å‡ºæ¥å•¦ï¼Œ5Gé¢‘æ®µï¼Œé¢‘ç‡å¤§äº†ï¼Œæ³¢é•¿çŸ­äº†ï¼Œè¡å°„æ•ˆæœä¸å¥½ï¼Œç²’å­æ€§æ›´å¼ºã€‚æ³¢é•¿å¤§çš„ï¼Œä¼šæ›´æ˜“ç»•è¿‡å¢™å£ç­‰éšœç¢ç‰©ã€‚</p><p>æˆ‘æ‰€åœ¨çš„å¯å®¤æ ¡å›­ç½‘5Gå¾ˆå¥½ã€‚</p><p><img data-src=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430222656166.png alt=image-20220430222656166></p><p>æˆ‘çš„æ–¹æ¡ˆæ˜¯ï¼Œç”¨è·¯ç”±å™¨çš„5Gä¿¡é“ï¼Œè¿æ¥åˆ°æ ¡å›­ç½‘5Gç½‘ä¸Šï¼Œåœ¨sshè¿æ¥è·¯ç”±å™¨ï¼Œcurlå‘½ä»¤ï¼Œå‘é€ä¸€ä¸ªpostè¯·æ±‚ï¼Œå®Œæˆwebè®¤è¯ã€‚ä¹‹åç”¨è·¯ç”±å™¨çš„2.4Gé¢‘æ®µå°±å¯ä»¥ä¸Šç½‘äº†ã€‚</p><p><img data-src=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430222926530.png alt=image-20220430222926530></p><p><img data-src=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430223040679.png alt=image-20220430223040679></p><p><img data-src=https://cdn.jsdelivr.net/gh/zhu-jiyuan/picture_go/img/image-20220430223440228.png alt=image-20220430223440228></p><p>åœ¨å®šæ—¶è¿è¡Œè¿™ä¸ªshellè„šæœ¬ï¼Œå°±å¯ä»¥è®©è·¯ç”±å™¨ä¸€ç›´ä½¿ç”¨å­¦æ ¡çš„æ ¡å›­ç½‘å•¦ã€‚</p><p>é€Ÿåº¦ä¸ç›´è¿æ ¡å›­ç½‘æ— å·®åˆ«ã€‚ååˆ†nice</p><p>å”‰ï¼Œå…ˆåˆ°è¿™å§ï¼Œå­¦æ ¡æ²¡æœ‰ipv6ï¼Œéš¾å—äº†ï¼ŒåŠ ä¸Šæˆ‘çš„ç¬”è®°æœ¬æ²¡æ³•æ’ç½‘çº¿ï¼Œæ²¡æ³•è¿œç¨‹å¼€æœºï¼Œéš¾å—~ã€‚è®©æˆ‘ä»¬ä¸Šäº†ç ”ç©¶ç”Ÿå†å†™è¿™ç¯‡æ–‡ç« å§ã€‚</p></div><footer class=post-footer><div class=post-tags><a href=/tags/log/ rel=tag># log</a></div><div class=post-nav><div class=post-nav-item><a href=/CS/cpp/c-five-zone/ rel=prev title=c++çš„å››å¤§åŒº><i class="fa fa-chevron-left"></i> c++çš„å››å¤§åŒº</a></div><div class=post-nav-item><a href=/soft/quantumultx/quantumult-x-and-js/ rel=next title="Quantumult Xçš„JavaScriptç¼–å†™">Quantumult Xçš„JavaScriptç¼–å†™ <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class=comments id=disqus_thread><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy; <span itemprop=copyrightYear>2022</span> <span class=with-love><i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>ohayo</span></div><div class=powered-by>ç”± <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/ rel=noopener target=_blank>NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨</div></div></footer><script src=https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin=anonymous></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/next-boot.js></script><script src=https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin=anonymous></script><script src=/js/third-party/search/local-search.js></script><script src=/js/third-party/pace.js></script><script class=next-config data-name=enableMath type=application/json>false</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css integrity="sha256-TThEtR+XalhWKkfF383YLOrI50NGNeIqrzS+q08afrY=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/copy-tex.min.css integrity="sha256-Wk20U9mS/kHGcSgkjSiRezW5exqT6wAOKwySOaLotXM=" crossorigin=anonymous><script class=next-config data-name=katex type=application/json>{"copy_tex_js":{"url":"https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/copy-tex.min.js","integrity":"sha256-etSqbSVF4+Lwe8MGk/Vanc1sR+mWv+qOG73fxWw9p94="}}</script><script src=/js/third-party/math/katex.js></script><script class=next-config data-name=disqus type=application/json>{"enable":true,"shortname":"ohayo1213","count":true,"i18n":{"disqus":"disqus"}}</script><script src=/js/third-party/comments/disqus.js></script></body></html>